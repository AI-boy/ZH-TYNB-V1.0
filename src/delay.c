/******************************************************************************
**                           志和兴业有限公司
**
**                           
**
**--------------基本文件信息---------------------------------------------------
** 文   件   名	: delay.c
** 当前    版本	: V1.0 
** 描        述 : 
** 编   译   器 : xc8
** 硬        件 : 
**--------------历史版本信息---------------------------------------------------
** 开始创建日期	: 2017-12-11
** 创   建   人	: 蔡维凯
** 版  	     本 : V1.0
** 描　      述 : 

**-----------------------------------------------------------------------------
*******************************************************************************/

//**--------------头文件-------------------------------------------------------
#include <xc.h>
#include <GenericTypeDefs.h>

//**--------------全局变量-----------------------------------------------------

//**--------------函数申明-----------------------------------------------------

//**--------------函数定义-----------------------------------------------------
/******************************************************************************
** 函数名称 : delay_1us
** 输入参数 : 无
** 输出参数 : 无
** 功能描述 : 延时1us
** 全局变量 : 无
** 作    者 : 蔡维凯
** 日    期 : 2017-12-11
** 修    改 : 无
** 版    本 : V0.1
*******************************************************************************/
void delay_1us(void) // 延时1us，因为系统时钟是32MHZ，一条指令时间是1/32M * 4 = 125ns = 0.125us
{
	NOP(); // 0.125us
	NOP(); // 0.125us
	NOP(); // 0.125us
	NOP(); // 0.125us
	NOP(); // 0.125us
	NOP(); // 0.125us
	NOP(); // 0.125us
	NOP(); // 0.125us
}

/******************************************************************************
** 函数名称 : delay_ms
** 输入参数 : count
** 输出参数 : 无
** 功能描述 : 毫秒延时
** 全局变量 : 无
** 作    者 : 蔡维凯
** 日    期 : 2017-12-11
** 修    改 : 无
** 版    本 : V0.1
*******************************************************************************/
void delay_ms(WORD count)
{
	WORD i, j;
	
	for (i = 0; i < count; i++)
	{
    	for (j = 0; j < 1000; j++)
    	{
    		NOP(); // 0.125us
			NOP(); // 0.125us
			NOP(); // 0.125us
			NOP(); // 0.125us
			NOP(); // 0.125us
			NOP(); // 0.125us
			NOP(); // 0.125us
			NOP(); // 0.125us
    	}
   	}
}
